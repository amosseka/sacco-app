{% extends 'index.html' %}
{% load static %}
{% load humanize %}

{% block content %}
	<main id="main-body" class="h-full overflow-y-auto bg-bluish px-6">

		<h2 class="my-6 text-xl font-semibold text-gray-600">Pay Fines</h2>

		<div class="w-full rounded-lg shadow-xs border bg-white py-2 px-4">

			<form method="POST" action="" id="pay-fines-form" class="form-control">
				{% csrf_token %}
				<input type="hidden" name="user-no-conflict" value="{{user}}">
				
				<div>
					<div class="flex mt-4 pl-1">
						<div class="w-44 h-44">
							<img src="{{member.image.url}}" data="image">
						</div>
						<div class="ml-6">
							<p class="font-semibold">{{member.full_name}}</p>
							<p>{{member.code}}</p>
							<p>
								<span>Total Fines:</span>
								<span label="total-fines" data="{{member.fines}}">
									{{member.fines|intcomma}}
								</span>
							</p>
						</div>
					</div>

					<div class="mt-4">
						<label for="id_date">Date</label>
						{{form.date}}
						{{form.date.errors}}

						<label for="id_fines">Fines</label>
						{{form.fines}}
						{{form.fines.errors}}

						<ul class="errorlist">
							<li></li>
						</ul>
					</div>

					<div class="hidden">
						{{form.shares}}
						{{form.savings}}
						{{form.withdraw}}
						{{form.welfare}}
						{{form.fine_type}}
					</div>
				</div>

				{{form.errors}}

				<input type="submit" name="btnSubmit" value="Submit">
			</form>
		</div>
	</main>
{% endblock %}

{% block scripts %}
<script src="{% static 'custom_scripts/pay_fines.js' %}"></script>
{% endblock %}